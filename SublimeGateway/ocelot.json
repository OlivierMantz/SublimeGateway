{
    "Routes": [
        //****************User API*********************

        {
            "DownstreamPathTemplate": "/api/Users",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "user-api",
                    "Port": 80
                }
            ],
            "RateLimitOptions": {
                "ClientWhitelist": [
                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Users",
            "UpstreamHttpMethod": [ "Get" ]
        },
        {
            "DownstreamPathTemplate": "/api/Users/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "user-api",
                    "Port": 80
                }
            ],
            "FileCacheOptions": {
                "TtlSeconds": 30,
                "Region": "usercaching"
            },
            "RateLimitOptions": {
                "ClientWhitelist": [

                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Users/{id}",
            "UpstreamHttpMethod": [ "Delete" ]
        },
        //****************Comment API*********************
        // Get all comments
        {
            "DownstreamPathTemplate": "/api/Comments",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "comment-api-service",
                    "Port": 80
                }
            ],
            //"AuthenticationOptions": {
            //    "AuthenticationProviderKey": "Auth0"
            //},
            "RateLimitOptions": {
                "ClientWhitelist": [

                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Comments",
            "UpstreamHttpMethod": [ "Get" ]
        },
        // Get all comments in post
        {
            "DownstreamPathTemplate": "/api/Comments/post/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "comment-api-service",
                    "Port": 80
                }
            ],
            "FileCacheOptions": {
                "TtlSeconds": 30,
                "Region": "commentcaching"
            },
            "RateLimitOptions": {
                "ClientWhitelist": [
                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Comments/post/{id}",
            "UpstreamHttpMethod": [ "Get" ]
        },
        // Create, Update, Delete new comment in post
        {
            "DownstreamPathTemplate": "/api/Comments/post/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "comment-api-service",
                    "Port": 80
                }
            ],
            //"AuthenticationOptions": {
            //    "AuthenticationProviderKey": "Auth0"
            //},
            "RateLimitOptions": {
                "ClientWhitelist": [

                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Comments/post/{id}",
            "UpstreamHttpMethod": [ "Post", "Delete", "Update" ]
        },
        // Update comment
        //{
        //    "DownstreamPathTemplate": "/api/Comments/{id}",
        //    "DownstreamScheme": "http",
        //    "DownstreamHostAndPorts": [
        //        {
        //            "Host": "comment-api-service",
        //            "Port": 80
        //        }
        //    ],
        //    "RateLimitOptions": {
        //        "ClientWhitelist": [

        //        ],
        //        "EnableRateLimiting": true,
        //        "Period": "5s",
        //        "PeriodTimespan": 1,
        //        "Limit": 1
        //    },
        //    "UpstreamPathTemplate": "/Comments/{id}",
        //    "UpstreamHttpMethod": [ "Update" ]
        //},
        //// Delete comment
        //{
        //    "DownstreamPathTemplate": "/api/Comments/{id}",
        //    "DownstreamScheme": "http",
        //    "DownstreamHostAndPorts": [
        //        {
        //            "Host": "comment-api-service",
        //            "Port": 80
        //        }
        //    ],
        //    "RateLimitOptions": {
        //        "ClientWhitelist": [

        //        ],
        //        "EnableRateLimiting": true,
        //        "Period": "5s",
        //        "PeriodTimespan": 1,
        //        "Limit": 1
        //    },
        //    "UpstreamPathTemplate": "/Comments/{id}",
        //    "UpstreamHttpMethod": [ "Delete" ]
        //},
        //****************Post API*********************
        // Get a specific post
        {
            "DownstreamPathTemplate": "/api/Posts/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "post-api",
                    "Port": 80
                }
            ],
            "FileCacheOptions": {
                "TtlSeconds": 30,
                "Region": "postcaching"
            },
            "RateLimitOptions": {
                "ClientWhitelist": [
                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Posts/{id}",
            "UpstreamHttpMethod": [ "Get" ]
        },
        // Get all posts from a specific User
        {
            "DownstreamPathTemplate": "/api/Posts/users/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "post-api",
                    "Port": 80
                }
            ],
            "FileCacheOptions": {
                "TtlSeconds": 30,
                "Region": "postcaching"
            },
            "RateLimitOptions": {
                "ClientWhitelist": [
                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Posts/users/{id}",
            "UpstreamHttpMethod": [ "Get" ]
        },
        // Create a new Post
        {
            "DownstreamPathTemplate": "/api/Posts",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "post-api",
                    "Port": 80
                }
            ],
            "RateLimitOptions": {
                "ClientWhitelist": [

                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Posts",
            "UpstreamHttpMethod": [ "Post" ]
        },
        // Update a specific Post
        {
            "DownstreamPathTemplate": "/api/Posts/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "post-api",
                    "Port": 80
                }
            ],
            "RateLimitOptions": {
                "ClientWhitelist": [

                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Posts/{id}",
            "UpstreamHttpMethod": [ "Put" ]
        },
        // Delete specific Post
        {
            "DownstreamPathTemplate": "/api/Posts/{id}",
            "DownstreamScheme": "http",
            "DownstreamHostAndPorts": [
                {
                    "Host": "post-api",
                    "Port": 80
                }
            ],
            "RateLimitOptions": {
                "ClientWhitelist": [

                ],
                "EnableRateLimiting": true,
                "Period": "5s",
                "PeriodTimespan": 1,
                "Limit": 1
            },
            "UpstreamPathTemplate": "/Posts/{id}",
            "UpstreamHttpMethod": [ "Delete" ]
        }


    ],
    "GlobalConfiguration": {
        "RequestIdKey": "X-Correlation-Id",
        "BaseUrl": ""
        //"BaseUrl": "http://api.user-api:80"
        //"BaseUrl": "http://sublimewebapp.me"

        // "ServiceDiscoveryProvider": {
        //     "Host": "user-api", //user-api for k3d
        //     "Port": "52003", //found using docker inspect k3d-sublimeapp-serverlb
        //     "Namespace": "default", // default value
        //     "Type": "kube"
        // }
    }
}
